{{ 'my-sustainable-hero.css' | asset_url | stylesheet_tag }}

<responsive-container class="my-sustainable-hero__container my-sustainable-hero__container-{{ section.id }} 
  {% unless section.settings.is_fullWidth %} my-page-width {% endunless %}">
  <style>
    {%- if section.settings.reverse_layout -%}
      .my-sustainable-hero__container-{{ section.id }} { 
        flex-direction:row-reverse;
      }
    {%- endif -%}
  </style>

  <!-- Left side - Two overlapping images -->
  <div class="hero-images">
    <div class="image-primary">
      {%- if section.settings.primary_image != blank -%}
        <img 
          width="400"
          height="400"
          src="{{ section.settings.primary_image | image_url: width:section.settings.primary_image.width }}" 
          alt="{{ section.settings.primary_image.alt | default: 'Sustainable fashion model' }}"
          loading="lazy"
        />
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg'  }}
      {%- endif -%}
    </div>

    <div class="image-secondary">
      {%- if section.settings.secondary_image != blank -%}
        <img
          width="400"
          height="400" 
          src="{{ section.settings.secondary_image | image_url: width: section.settings.secondary_image.width }}" 
          alt="{{ section.settings.secondary_image.alt | default: 'Fashion accessory' }}"
          loading="lazy"
        />
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}  
      {%- endif -%}
    </div>
  </div>

  <!-- Right side - Content -->
  <div class="hero-content">
    {%- if section.blocks.size == 0 -%}
      <div class="content color-{{ section.settings.color_scheme }}">
        <div class="title h1">
          {{ section.settings.title }}
        </div>
        <div class="descript.ion h3">
          {{ section.settings.description }}
        </div>
      </div>
    {%- else -%}
      {%- assign block = section.blocks.first -%}
      {%- case block.type -%}
        {%- when "eyebrow" -%}
          {%- render 'my-sustainable-hero__eyebrow', block:block , class: 'color-' | append: block.settings.color_scheme_eyebrow -%}
        {%- when 'comment' -%}
          {%- render 'my-sustainable-hero__comment', block:block, class: 'color-' | append: block.settings.color_scheme_comment -%}
        {%- endcase -%}
    {%- endif -%}
  </div>

  <div class="image-primary image-mobile-behavior">
      <img 
          width="400"
          height="400"
          src="{{ section.settings.primary_image | image_url: width: section.settings.primary_image.width}}" 
          alt="{{ section.settings.primary_image.alt | default: 'Sustainable fashion model' }}"
          loading="lazy"
      />
  </div>
</responsive-container>

{% schema %}
{
  "name": "my-sustainable-hero",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "is_fullWidth",
      "label": "Full Width",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    },
    {
      "type": "checkbox",
      "id": "reverse_layout",
      "label": "Reverse Layout",
      "default": false
    },
    {
      "type": "image_picker",
      "id": "primary_image",
      "label": "Primary Image",
      "info": "Main portrait image (recommended: 600x800px)"
    },
    {
      "type": "image_picker",
      "id": "secondary_image", 
      "label": "Secondary Image",
      "info": "Overlapping accessory image (recommended: 400x300px)"
    },
    {
      "type": "header",
      "content": "Text"
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "label": "Title",
      "default": "Sustainable Trends You'll Love Forever."
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>We believe that fashion should be stylish, affordable and accessible to everyone. Body positivity and inclusivity are values that are at the heart of our brand. We want everyone to look and feel good, while also doing our part to help the environment.</p>"
    }
  ],
  "blocks": [
    {
      "type": "eyebrow",
      "name": "Eyebrow",
      "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme_eyebrow",
          "label": "Color Scheme",
          "default": "scheme-1"
        },
        {
          "type": "inline_richtext",
          "id": "eyebrow_text",
          "label": "Eyebrow Text",
          "default": "EVERYDAY ESSENTIALS"
        },
        {
          "type": "inline_richtext",
          "id": "main_heading",
          "label": "Main Heading",
          "default": "Sustainable Trends You'll Love Forever."
        },
        {
          "type": "richtext",
          "id": "value_points",
          "label": "Value Points",
          "info": "Separate each point with | (pipe symbol)",
          "default": "<p>We believe that fashion should be stylish, affordable and accessible to everyone.|Body positivity and inclusivity are values that are at the heart of our brand.|We want everyone to look and feel good, while also doing our part to help the environment.</p>"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "Call to Action Text",
          "default": "OUR STORY"
        },
        {
          "type": "url",
          "id": "cta_url",
          "label": "Call to Action URL"
        }
      ]
    },
    {
      "type": "comment",
      "name": "Comment",
      "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme_comment",
          "label": "Color Scheme",
          "default": "scheme-1"
        },
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Title",
          "default": "Our Story"
        },
        {
          "type": "metaobject_list",
          "id": "user_comments",
          "label":"User Comments",
          "metaobject_type": "user_comment"
        }
      ]
    }
  ],
  "max_blocks": 1,
  "presets": [
    {
      "name": "my-sustainable-hero"
    }
  ]
}
{% endschema %}