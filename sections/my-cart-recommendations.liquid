{{ 'my-cart-recommendations.css' | asset_url | stylesheet_tag  }}
{{ 'my-product-card.css' | asset_url | stylesheet_tag }}
<script src="{{ 'my-cart-recommendations-container.js' | asset_url }}" type="module"></script>
<script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>


<responsive-container class="my-cart-recommendations__container">
    <div class="top">
        <h1>{{ section.settings.title }}</h1>
    </div>

    <my-cart-recommendations-container>
        <div class="swiper">
            <div class="swiper-wrapper bottom">   
                {% for product in section.settings.collection.products %}
                    {%- render 'my-product-card', 
                        product: product, 
                        has_quick_add: true,
                        ratio: "3 / 4", 
                        show_secondary_image: true,
                        is_swiper:true,
                        quick_add_modal:"#my-cart-recommendations-PopupModal" 
                    -%}    
                {% endfor %}
            </div>
        </div>
    </my-cart-recommendations-container>

    {%- if section.settings.collection != nil and section.settings.collection.products_count > 0 -%}
        <quick-add-modal
            id="my-cart-recommendations-PopupModal"
            class="cart-recommendations-modal"
        >
            <div
                role="dialog"
                aria-modal="true"
                class="content"
                tabindex="-1"
            >
                <button
                    id="ModalClose-"
                    type="button"
                    class="toggle-btn"
                    aria-label="close"
                >
                    {{ 'icon-close.svg' | inline_asset_content }}
                </button>
                <div id="QuickAddInfo-" class="content-info">
                </div>
            </div>
        </quick-add-modal>
    {%- endif -%}
</responsive-container>

{% schema %}
  {
    "name": "my-cart-recommendations",
    "tag": "section",
    "class": "section",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default":"You'll Love This Too"
        },
        {
            "type": "collection",
            "id": "collection",
            "label": "Collection"
        }
    ],
    "presets": [
      {
        "name": "my-cart-recommendations"
      }
    ]
  }
{% endschema %}