{{ 'my-promo-split.css' | asset_url | stylesheet_tag }}
<script src="{{ 'my-promoSplit-container.js' | asset_url }}" type="module"></script>

<responsive-container>
  <my-promo-split-container class="my-promo-split__container">
  <!-- Left Side - Lifestyle Image -->
  <div class="promo-split-left">
    <div class="lifestyle-image-container">
      {% if section.settings.lifestyle_image %}
        <img
          width="720"
          height="703" 
          src="{{ section.settings.lifestyle_image | image_url: width:720 }}" 
          alt="{{ section.settings.lifestyle_image.alt | default: 'Lifestyle Image' }}"
          class="lifestyle-image" />
      {% endif %}
        
      <div class="text-overlay">
        {% for i in (1..3) %}
          <h2 class="overlay-text overlay-text-{{ i }}">
            {{ section.settings.overlay_text | default: 'Dress' }}
          </h2>
        {% endfor %}
      </div>
    </div>
  </div>
    
  <!-- Right Side - Product Showcase -->
  <div class="promo-split-right">
    
      <!-- Promotion Header -->
      <div class="promo-header">
        <p class="promo-badge">{{ section.settings.promo_badge | default: 'SAVE 50% OFF' }}</p>
        <h2 class="promo-title">{{ section.settings.promo_title | default: 'Products to Proceed & Save' }}</h2>
      </div>
      
      <!-- Products -->
      <div class="swiper">
        <div class="products-grid swiper-wrapper">
          {% for block in section.blocks %}
            {% if block.type == 'product' %}
              <div class="product-item swiper-slide" data-product-id="{{ block.settings.product.id }}">
                {% if block.settings.product %}
                  <div class="product-image-container">
                    <img
                      width="216"
                      height="300" 
                      src="{{ block.settings.product.featured_image | image_url: width:216 }}" 
                      alt="{{ block.settings.product.title }}"
                      class="product-image"/>
                    </div>
                    <div class="product-info">
                      <h3 class="product-title">{{ block.settings.product.title }}</h3>
                      <p class="product-price">{{ block.settings.product.price | money }}</p>
                    </div>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
        
      <!-- CTA Button -->
      <div class="promo-cta">
        <button class="add-to-cart-btn">
          {{ section.settings.cta_text | default: 'ADD TO CART' }}
        </button>
      </div>
  </div>
  </my-promo-split-container>
</responsive-container>

{% schema %}
  {
    "name": "my-promo-split",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "image_picker",
        "id": "lifestyle_image",
        "label": "Lifestyle Image"
      },
      {
        "type": "text",
        "id": "overlay_text",
        "label": "Overlay Text",
        "default": "Dress"
      },
      {
        "type": "text",
        "id": "promo_badge",
        "label": "Promotion Badge",
        "default": "SAVE 50% OFF"
      },
      {
        "type": "text",
        "id": "promo_title",
        "label": "Promotion Title",
        "default": "Products to Proceed & Save"
      },
      {
        "type": "text",
        "id": "cta_text",
        "label": "CTA Button Text",
        "default": "ADD TO CART"
      }
    ],
    "blocks": [
      {
        "type": "product",
        "name": "Product",
        "settings": [
          {
            "type": "product",
            "id": "product",
            "label": "Select Product"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "my-promo-split",
        "blocks": [
          {
            "type": "product"
          },
          {
            "type": "product"
          },
          {
            "type": "product"
          }
        ]
      }
    ]
  }
{% endschema %}
    
    