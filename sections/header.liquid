{% schema %}
{
  "name": "t:sections.header.name",
  "tag": "section",
  "class": "section-header",
  "settings": [
    {
      "type": "text",
      "id": "logo_text",
      "label": "logo_text",
      "default":"LOGO"
    },
    {
      "type": "image_picker",
      "id": "logo_image",
      "label": "logo_image"
    },
  ]
}
{% endschema %}

<responsive-container class="header-container">
    <div class="header-menu__container">
      <ul class="menu">        
        {% for link in linklists.main-menu.links %}
          <li class="menu-link">
            <a href="{{ link.url }}">{{ link.title }}</a> 
            {%- if link.links.size > 0 -%}
              <ul class="menu dropdown-child">
                {% for child_link in link.links %}
                  <li class="menu-link">
                    <a href="{{ child_link.url }}">{{ child_link.title }}</a>
                    
                    {%- if child_link.links.size > 0 -%}
                      <ul class="menu dropdown-grandChild">
                        {% for grandChild_link in child_link.links %}
                          <li class="menu-link">
                            <a href="{{ grandChild_link.url }}">{{ grandChild_link.title }}</a>
                          </li>
                        {% endfor %}
                      </ul>
                    {%- endif -%}
                  </li>
                {% endfor %}
              </ul>
            {%- endif -%}
          </li>
        {% endfor %}
      </ul>

      <div class="mobile-menu">
        <img
          width="32"
          height="32" 
          src="{{ 'icon-menu.svg' | asset_url }}" 
          alt="icon-menu"
        />
        <div class="mobile-menu-dropdown"> 
        </div>
      </div>
    </div>

    
    <div class="header-logo__container">
      {%- if section.settings.logo_image %}
        {{  
          section.settings.logo_image |
          image_url: width: 48,height: 48 | 
          image_tag:
            alt: "logo",
            class:'header-logo__image',
            preload:true
        }}
        {%- else -%}
          <span class="heder-logo__text">{{ section.settings.logo_text }}</span>  
      {%- endif -%}
    </div>
    
       
    <div class="header-navigator__container">
      <div class="search-container">
        <form action="{{ routes.search_url }}" method="get" class="search-form">
          <input 
            type="text" 
            name="q" 
            class="search-input" 
            placeholder="Search..." 
            value="{{ search.terms | escape }}"
            autocomplete="off"
          />
          <button type="submit" class="search-btn">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
        </form>
      </div>
      <div class="nav-icons">
        <!-- Wishlist/Heart Icon -->
        <a href="{{ routes.collections_url }}" class="nav-icon wishlist-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
          <span class="nav-icon-count wishlist-count" style="display: none;">0</span>
        </a>

        <!-- User Account Icon -->
        <a href="{{ routes.account_url }}" class="nav-icon user-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </a>

        <!-- Shopping Cart Icon -->
        <a href="{{ routes.cart_url }}" class="nav-icon cart-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
          {% if cart.item_count > 0 %}
            <span class="nav-icon-count cart-count">{{ cart.item_count }}</span>
          {% endif %}
        </a>
      </div>
    </div>
</responsive-container>

{{ 'header.css' | asset_url | stylesheet_tag }}
