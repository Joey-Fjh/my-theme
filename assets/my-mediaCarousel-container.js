var a=Object.defineProperty;var d=(i,e,t)=>e in i?a(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var r=(i,e,t)=>d(i,typeof e!="symbol"?e+"":e,t);import{i as o,a as c,x as h}from"./lit-element.js";import{S as u}from"./swiper.js";import{N as p}from"./navigation.js";import"./create-element-if-not-defined.js";class n extends o{constructor(){super(),this.initIndex=0}get _container(){return this.querySelector(".carousel-container")}get _wrapper(){return this.querySelector(".carousel-wrapper")}get _slides(){return this.querySelectorAll(".carousel-slide")}get _prev(){return this.querySelector(".prev-btn")}get _next(){return this.querySelector(".next-btn")}get _dots(){return this.querySelector(".carousel-dots")}get _playBtns(){return this.querySelectorAll(".play-button")}initStatus(){this._slides[this.initIndex].classList.add("center"),this._dots.children[this.initIndex].classList.add("active")}initVideoPlayer(){this.querySelectorAll("video").forEach(e=>{e.addEventListener("play",()=>{e.nextElementSibling.hidden=!0}),e.addEventListener("pause ended",()=>{e.nextElementSibling.hidden=!1})}),this._playBtns.forEach(e=>{e.addEventListener("click",()=>{var s;if(!((s=e.closest(".carousel-slide"))!=null&&s.classList.contains("center")))return;const t=e.previousElementSibling;t.length&&(t[0].paused?(t[0].play(),e.hidden=!0):(t[0].pause(),e.hidden=!1))})})}connectedCallback(){if(super.connectedCallback(),this._slides.length==0)return;this.initIndex=Math.floor(this._slides.length/2),this.initStatus(),this.initVideoPlayer();let e=new u(this._container,{modules:[p],slidesPerView:"auto",centeredSlides:!0,initialSlide:this.initIndex,navigation:{nextEl:this._next,prevEl:this._prev}}),t=e.activeIndex;e.on("slideChangeTransitionEnd",()=>{e.slides[t].classList.remove("center"),this._dots.children[t].classList.remove("active"),e.slides[e.activeIndex].classList.add("center"),this._dots.children[e.activeIndex].classList.add("active"),t=e.activeIndex}),this._dots.addEventListener("click",s=>{let l=parseInt(s.target.dataset.dotIndex??0);e.slideToLoop(l)})}render(){return h`<slot></slot>`}}r(n,"properties",{initIndex:{type:Number,state:!0}}),r(n,"styles",[c`
            :host {
				display: block;
				width: 100%;
				height: 100%;
				position: relative;
			}
        `]);customElements.define("my-media-carousel-container",n);
