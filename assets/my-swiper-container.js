var j=Object.defineProperty;var U=(l,e,a)=>e in l?j(l,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[e]=a;var P=(l,e,a)=>U(l,typeof e!="symbol"?e+"":e,a);import{i as $,a as z,x as G}from"./lit-element.js";import{g as M,S as H}from"./swiper.js";import{N as J}from"./navigation.js";import{P as K}from"./pagination.js";import"./create-element-if-not-defined.js";function Q(l){let{swiper:e,extendParams:a,on:n,emit:r,params:p}=l;e.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,m,E=p&&p.autoplay?p.autoplay.delay:3e3,h=p&&p.autoplay?p.autoplay.delay:3e3,s,g=new Date().getTime(),L,b,c,B,S,u,D;function O(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",O),!(D||t.detail&&t.detail.bySwiperTouchMove)&&y())}const I=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?L=!0:L&&(h=s,L=!1);const t=e.autoplay.paused?s:g+h-new Date().getTime();e.autoplay.timeLeft=t,r("autoplayTimeLeft",t,t/E),m=requestAnimationFrame(()=>{I()})},q=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(i=>i.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},T=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(m),I();let o=typeof t>"u"?e.params.autoplay.delay:t;E=e.params.autoplay.delay,h=e.params.autoplay.delay;const i=q();!Number.isNaN(i)&&i>0&&typeof t>"u"&&(o=i,E=i,h=i),s=o;const w=e.params.speed,k=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(w,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,w,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(w,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,w,!0,!0),r("autoplay")),e.params.cssMode&&(g=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return o>0?(clearTimeout(d),d=setTimeout(()=>{k()},o)):requestAnimationFrame(()=>{k()}),o},A=()=>{g=new Date().getTime(),e.autoplay.running=!0,T(),r("autoplayStart")},v=()=>{e.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(m),r("autoplayStop")},f=(t,o)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(d),t||(u=!0);const i=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",O):y()};if(e.autoplay.paused=!0,o){S&&(s=e.params.autoplay.delay),S=!1,i();return}s=(s||e.params.autoplay.delay)-(new Date().getTime()-g),!(e.isEnd&&s<0&&!e.params.loop)&&(s<0&&(s=0),i())},y=()=>{e.isEnd&&s<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=new Date().getTime(),u?(u=!1,T(s)):T(),e.autoplay.paused=!1,r("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const t=M();t.visibilityState==="hidden"&&(u=!0,f(!0)),t.visibilityState==="visible"&&y()},x=t=>{t.pointerType==="mouse"&&(u=!0,D=!0,!(e.animating||e.autoplay.paused)&&f(!0))},F=t=>{t.pointerType==="mouse"&&(D=!1,e.autoplay.paused&&y())},C=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",x),e.el.addEventListener("pointerleave",F))},R=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",x),e.el.removeEventListener("pointerleave",F))},X=()=>{M().addEventListener("visibilitychange",V)},_=()=>{M().removeEventListener("visibilitychange",V)};n("init",()=>{e.params.autoplay.enabled&&(C(),X(),A())}),n("destroy",()=>{R(),_(),e.autoplay.running&&v()}),n("_freeModeStaticRelease",()=>{(c||u)&&y()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?v():f(!0,!0)}),n("beforeTransitionStart",(t,o,i)=>{e.destroyed||!e.autoplay.running||(i||!e.params.autoplay.disableOnInteraction?f(!0,!0):v())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){v();return}b=!0,c=!1,u=!1,B=setTimeout(()=>{u=!0,c=!0,f(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!b)){if(clearTimeout(B),clearTimeout(d),e.params.autoplay.disableOnInteraction){c=!1,b=!1;return}c&&e.params.cssMode&&y(),c=!1,b=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(S=!0)}),Object.assign(e.autoplay,{start:A,stop:v,pause:f,resume:y})}class N extends ${constructor(){super(),this.speed=5,this.autoplay=!1,this.progressBar=!1,this.slidesPerView=4,this.slidesPerViewMobile=2}firstUpdated(){const e=new H(this.querySelector(".swiper"),{slidesPerView:this.slidesPerViewMobile,modules:[J,Q,K],spaceBetween:0,autoplay:this.autoplay&&{delay:this.speed*1e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},...this.progressBar?{pagination:{el:".swiper-pagination",type:"progressbar"}}:{},on:{init(){if(!this.progressBar)return;const a=this.querySelector(".swiper-pagination-progressbar");a.addEventListener("click",n=>{const r=a.getBoundingClientRect(),d=(n.clientX-r.left)/r.width,m=Math.round(d*(e.slides.length-1));e.slideTo(m)})}},breakpoints:{750:{slidesPerView:this.slidesPerView}}})}render(){return G`
			<slot></slot>
		`}}P(N,"styles",[z`
			:host {
				display: block;
				width: 100%;
				height: 100%;
				position: relative;
			}
		`]),P(N,"properties",{speed:{type:Number},autoplay:{type:Boolean},progressBar:{type:Boolean},slidesPerView:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}},slidesPerViewMobile:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}}});customElements.define("my-swiper-container",N);
