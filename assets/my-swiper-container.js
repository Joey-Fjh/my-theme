var $=Object.defineProperty;var z=(o,e,a)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;var P=(o,e,a)=>z(o,typeof e!="symbol"?e+"":e,a);import{i as G,a as H,x as J}from"./lit-element.js";import{g as N,S as K}from"./swiper.js";import{N as Q}from"./navigation.js";import{P as U}from"./pagination.js";import"./create-element-if-not-defined.js";function W(o){let{swiper:e,extendParams:a,on:l,emit:s,params:d}=o;e.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let m,E,T=d&&d.autoplay?d.autoplay.delay:3e3,v=d&&d.autoplay?d.autoplay.delay:3e3,i,f=new Date().getTime(),S,b,y,M,L,u,D;function O(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",O),!(D||t.detail&&t.detail.bySwiperTouchMove)&&p())}const A=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?S=!0:S&&(v=i,S=!1);const t=e.autoplay.paused?i:f+v-new Date().getTime();e.autoplay.timeLeft=t,s("autoplayTimeLeft",t,t/T),E=requestAnimationFrame(()=>{A()})},q=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(r=>r.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},h=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(E),A();let n=typeof t>"u"?e.params.autoplay.delay:t;T=e.params.autoplay.delay,v=e.params.autoplay.delay;const r=q();!Number.isNaN(r)&&r>0&&typeof t>"u"&&(n=r,T=r,v=r),i=n;const w=e.params.speed,k=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(w,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,w,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(w,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,w,!0,!0),s("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{h()})))};return n>0?(clearTimeout(m),m=setTimeout(()=>{k()},n)):requestAnimationFrame(()=>{k()}),n},I=()=>{f=new Date().getTime(),e.autoplay.running=!0,h(),s("autoplayStart")},g=()=>{e.autoplay.running=!1,clearTimeout(m),cancelAnimationFrame(E),s("autoplayStop")},c=(t,n)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(m),t||(u=!0);const r=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",O):p()};if(e.autoplay.paused=!0,n){L&&(i=e.params.autoplay.delay),L=!1,r();return}i=(i||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&i<0&&!e.params.loop)&&(i<0&&(i=0),r())},p=()=>{e.isEnd&&i<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),u?(u=!1,h(i)):h(),e.autoplay.paused=!1,s("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const t=N();t.visibilityState==="hidden"&&(u=!0,c(!0)),t.visibilityState==="visible"&&p()},x=t=>{t.pointerType==="mouse"&&(u=!0,D=!0,!(e.animating||e.autoplay.paused)&&c(!0))},F=t=>{t.pointerType==="mouse"&&(D=!1,e.autoplay.paused&&p())},C=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",x),e.el.addEventListener("pointerleave",F))},R=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",x),e.el.removeEventListener("pointerleave",F))},_=()=>{N().addEventListener("visibilitychange",V)},j=()=>{N().removeEventListener("visibilitychange",V)};l("init",()=>{e.params.autoplay.enabled&&(C(),_(),I())}),l("destroy",()=>{R(),j(),e.autoplay.running&&g()}),l("_freeModeStaticRelease",()=>{(y||u)&&p()}),l("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?g():c(!0,!0)}),l("beforeTransitionStart",(t,n,r)=>{e.destroyed||!e.autoplay.running||(r||!e.params.autoplay.disableOnInteraction?c(!0,!0):g())}),l("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){g();return}b=!0,y=!1,u=!1,M=setTimeout(()=>{u=!0,y=!0,c(!0)},200)}}),l("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!b)){if(clearTimeout(M),clearTimeout(m),e.params.autoplay.disableOnInteraction){y=!1,b=!1;return}y&&e.params.cssMode&&p(),y=!1,b=!1}}),l("slideChange",()=>{e.destroyed||!e.autoplay.running||(L=!0)}),Object.assign(e.autoplay,{start:I,stop:g,pause:c,resume:p})}class B extends G{constructor(){super(),this.speed=5,this.autoplay=!1,this.progressBar=!1,this.slidesPerView=4,this.slidesPerViewMobile=2,this.slidesSpaceBetween=0}connectedCallback(){super.connectedCallback();let e=null;this.progressBar&&(e=this.querySelector(".swiper-pagination")),new K(this.querySelector(".swiper"),{slidesPerView:this.slidesPerViewMobile,modules:[Q,W,U],spaceBetween:this.slidesSpaceBetween,autoplay:this.autoplay&&{delay:this.speed*1e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},...this.progressBar?{pagination:{el:".swiper-pagination",type:"progressbar"}}:{},on:{init(){e&&e.addEventListener("click",a=>{})}},breakpoints:{750:{slidesPerView:this.slidesPerView}}})}render(){return J`
			<slot></slot>
		`}}P(B,"styles",[H`
			:host {
				display: block;
				width: 100%;
				height: 100%;
				position: relative;
			}
		`]),P(B,"properties",{speed:{type:Number},autoplay:{type:Boolean},progressBar:{type:Boolean},slidesPerView:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}},slidesPerViewMobile:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}},slidesSpaceBetween:{type:Number}});customElements.define("my-swiper-container",B);
