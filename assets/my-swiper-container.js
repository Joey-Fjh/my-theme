var V=Object.defineProperty;var $=(s,e,p)=>e in s?V(s,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):s[e]=p;var O=(s,e,p)=>$(s,typeof e!="symbol"?e+"":e,p);import{i as z,a as G,x as H}from"./lit-element.js";import{g as B,S as J}from"./swiper.js";import{N as K}from"./navigation.js";import"./create-element-if-not-defined.js";function Q(s){let{swiper:e,extendParams:p,on:o,emit:n,params:d}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},p({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let m,w,b=d&&d.autoplay?d.autoplay.delay:3e3,T=d&&d.autoplay?d.autoplay.delay:3e3,r,c=new Date().getTime(),L,E,y,I,S,l,D;function N(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",N),!(D||t.detail&&t.detail.bySwiperTouchMove)&&u())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?L=!0:L&&(T=r,L=!1);const t=e.autoplay.paused?r:c+T-new Date().getTime();e.autoplay.timeLeft=t,n("autoplayTimeLeft",t,t/b),w=requestAnimationFrame(()=>{x()})},R=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(a=>a.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},h=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(w),x();let i=typeof t>"u"?e.params.autoplay.delay:t;b=e.params.autoplay.delay,T=e.params.autoplay.delay;const a=R();!Number.isNaN(a)&&a>0&&typeof t>"u"&&(i=a,b=a,T=a),r=i;const v=e.params.speed,C=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(v,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,v,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(v,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,v,!0,!0),n("autoplay")),e.params.cssMode&&(c=new Date().getTime(),requestAnimationFrame(()=>{h()})))};return i>0?(clearTimeout(m),m=setTimeout(()=>{C()},i)):requestAnimationFrame(()=>{C()}),i},A=()=>{c=new Date().getTime(),e.autoplay.running=!0,h(),n("autoplayStart")},g=()=>{e.autoplay.running=!1,clearTimeout(m),cancelAnimationFrame(w),n("autoplayStop")},f=(t,i)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(m),t||(l=!0);const a=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",N):u()};if(e.autoplay.paused=!0,i){S&&(r=e.params.autoplay.delay),S=!1,a();return}r=(r||e.params.autoplay.delay)-(new Date().getTime()-c),!(e.isEnd&&r<0&&!e.params.loop)&&(r<0&&(r=0),a())},u=()=>{e.isEnd&&r<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(c=new Date().getTime(),l?(l=!1,h(r)):h(),e.autoplay.paused=!1,n("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const t=B();t.visibilityState==="hidden"&&(l=!0,f(!0)),t.visibilityState==="visible"&&u()},F=t=>{t.pointerType==="mouse"&&(l=!0,D=!0,!(e.animating||e.autoplay.paused)&&f(!0))},q=t=>{t.pointerType==="mouse"&&(D=!1,e.autoplay.paused&&u())},_=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",q))},j=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",q))},k=()=>{B().addEventListener("visibilitychange",P)},U=()=>{B().removeEventListener("visibilitychange",P)};o("init",()=>{e.params.autoplay.enabled&&(_(),k(),A())}),o("destroy",()=>{j(),U(),e.autoplay.running&&g()}),o("_freeModeStaticRelease",()=>{(y||l)&&u()}),o("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?g():f(!0,!0)}),o("beforeTransitionStart",(t,i,a)=>{e.destroyed||!e.autoplay.running||(a||!e.params.autoplay.disableOnInteraction?f(!0,!0):g())}),o("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){g();return}E=!0,y=!1,l=!1,I=setTimeout(()=>{l=!0,y=!0,f(!0)},200)}}),o("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(I),clearTimeout(m),e.params.autoplay.disableOnInteraction){y=!1,E=!1;return}y&&e.params.cssMode&&u(),y=!1,E=!1}}),o("slideChange",()=>{e.destroyed||!e.autoplay.running||(S=!0)}),Object.assign(e.autoplay,{start:A,stop:g,pause:f,resume:u})}class M extends z{constructor(){super(),this.speed=5,this.autoplay=!1,this.progressBar=!1}firstUpdated(){console.log(this.progressBar),new J(this.querySelector(".swiper"),{modules:[K,Q],spaceBetween:0,autoplay:this.autoplay&&{delay:this.speed*1e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},...this.progressBar?{pagination:{el:".swiper-pagination",type:"progressbar"}}:{}})}render(){return H`
			<slot></slot>
		`}}O(M,"styles",[G`
			:host {
				display: block;
				width: 100%;
				height: 100%;
				position: relative;
			}
		`]),O(M,"properties",{speed:{type:Number},autoplay:{type:Boolean},progressBar:{type:Boolean}});customElements.define("my-swiper-container",M);
