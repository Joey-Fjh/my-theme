var X=Object.defineProperty;var $=(l,e,a)=>e in l?X(l,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[e]=a;var D=(l,e,a)=>$(l,typeof e!="symbol"?e+"":e,a);import{i as z,a as G,x as H}from"./lit-element.js";import{g as B,S as J}from"./swiper.js";import{N as K}from"./navigation.js";import{P as Q}from"./pagination.js";import"./create-element-if-not-defined.js";function U(l){let{swiper:e,extendParams:a,on:r,emit:s,params:u}=l;e.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,g,w=u&&u.autoplay?u.autoplay.delay:3e3,c=u&&u.autoplay?u.autoplay.delay:3e3,n,h=new Date().getTime(),S,E,m,N,L,p,P;function O(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",O),!(P||t.detail&&t.detail.bySwiperTouchMove)&&y())}const V=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?S=!0:S&&(c=n,S=!1);const t=e.autoplay.paused?n:h+c-new Date().getTime();e.autoplay.timeLeft=t,s("autoplayTimeLeft",t,t/w),g=requestAnimationFrame(()=>{V()})},k=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(i=>i.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},T=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(g),V();let o=typeof t>"u"?e.params.autoplay.delay:t;w=e.params.autoplay.delay,c=e.params.autoplay.delay;const i=k();!Number.isNaN(i)&&i>0&&typeof t>"u"&&(o=i,w=i,c=i),n=o;const v=e.params.speed,F=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(v,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,v,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(v,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,v,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return o>0?(clearTimeout(d),d=setTimeout(()=>{F()},o)):requestAnimationFrame(()=>{F()}),o},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,T(),s("autoplayStart")},b=()=>{e.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(g),s("autoplayStop")},f=(t,o)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(d),t||(p=!0);const i=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",O):y()};if(e.autoplay.paused=!0,o){L&&(n=e.params.autoplay.delay),L=!1,i();return}n=(n||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&n<0&&!e.params.loop)&&(n<0&&(n=0),i())},y=()=>{e.isEnd&&n<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),p?(p=!1,T(n)):T(),e.autoplay.paused=!1,s("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const t=B();t.visibilityState==="hidden"&&(p=!0,f(!0)),t.visibilityState==="visible"&&y()},x=t=>{t.pointerType==="mouse"&&(p=!0,P=!0,!(e.animating||e.autoplay.paused)&&f(!0))},C=t=>{t.pointerType==="mouse"&&(P=!1,e.autoplay.paused&&y())},q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",x),e.el.addEventListener("pointerleave",C))},R=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",x),e.el.removeEventListener("pointerleave",C))},_=()=>{B().addEventListener("visibilitychange",A)},j=()=>{B().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(q(),_(),I())}),r("destroy",()=>{R(),j(),e.autoplay.running&&b()}),r("_freeModeStaticRelease",()=>{(m||p)&&y()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?b():f(!0,!0)}),r("beforeTransitionStart",(t,o,i)=>{e.destroyed||!e.autoplay.running||(i||!e.params.autoplay.disableOnInteraction?f(!0,!0):b())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){b();return}E=!0,m=!1,p=!1,N=setTimeout(()=>{p=!0,m=!0,f(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(N),clearTimeout(d),e.params.autoplay.disableOnInteraction){m=!1,E=!1;return}m&&e.params.cssMode&&y(),m=!1,E=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(L=!0)}),Object.assign(e.autoplay,{start:I,stop:b,pause:f,resume:y})}class M extends z{constructor(){super(),this.speed=5,this.autoplay=!1,this.progressBar=!1,this.slidesPerView=1,this.slidesPerViewMobile=1,this.slidesSpaceBetween=0}connectedCallback(){super.connectedCallback();let e=null;this.progressBar&&(e=this.querySelector(".swiper-pagination"));let a=this;const r=new J(this.querySelector(".swiper"),{slidesPerView:this.slidesPerViewMobile,modules:[K,U,Q],spaceBetween:this.slidesSpaceBetween,autoplay:this.autoplay&&{delay:this.speed*1e3,disableOnInteraction:!1},loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},...this.progressBar?{pagination:{el:e,type:"progressbar"}}:{},on:{init(){e&&e.addEventListener("click",s=>{if(r.params.slidesPerView=="auto")return;const{left:u,width:d}=e.getBoundingClientRect(),g=(s.clientX-u)/d,w=r.slides.length-r.params.slidesPerView+1,c=Math.floor(g*w);r.slideTo(c)})},slideChange(){a.dispatchEvent(new CustomEvent("play-animation",{bubbles:!0,composed:!0}))}},breakpoints:{750:{slidesPerView:this.slidesPerView}}})}render(){return H`
			<slot></slot>
		`}}D(M,"styles",[G`
			:host {
				display: block;
				width: 100%;
				height: 100%;
				position: relative;
			}
		`]),D(M,"properties",{speed:{type:Number},autoplay:{type:Boolean},progressBar:{type:Boolean},slidesPerView:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}},slidesPerViewMobile:{converter:{fromAttribute(e){if(e==="auto")return"auto";const a=Number(e);return isNaN(a)?e:a}}},slidesSpaceBetween:{type:Number}});customElements.define("my-swiper-container",M);
