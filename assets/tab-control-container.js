var c=Object.defineProperty;var o=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>o(s,typeof t!="symbol"?t+"":t,e);import{i as h,a as d,x as r}from"./lit-element.js";class l extends h{constructor(){super()}connectedCallback(){var t,e;super.connectedCallback(),this.navContainer=this.querySelector("[data-tab-nav]"),this.panels=this.querySelectorAll(".tab-panel"),this.buildTabs(),this._handleClick=this.handleClick.bind(this),this._handleSlotChange=this.handleSlotChange.bind(this),this.navContainer.addEventListener("click",this._handleClick),(e=(t=this.shadowRoot)==null?void 0:t.querySelector("slot"))==null||e.addEventListener("slotchange",this._handleSlotChange),this.panels.length>0&&this.activeTab(0)}buildTabs(){this.navContainer.innerHTML="",this.panels.forEach((t,e)=>{const a=t.getAttribute("data-title"),i=document.createElement("div");i.className="tab-title",i.innerText=a,i.setAttribute("data-tab-index",e),t.setAttribute("data-tab-index",e),this.navContainer.appendChild(i)})}activeTab(t){this.panels.forEach(i=>{i.classList.contains("hidden")||i.classList.add("hidden"),i.classList.remove("active")});for(const i of this.navContainer.children)i.classList.remove("active");const e=this.navContainer.children[t],a=this.panels[t];e&&a&&(e.classList.add("active"),a.classList.remove("hidden"),a.classList.add("active"))}handleClick(t){const e=t.target.closest("[data-tab-index]");if(!e)return;const a=Number(e.getAttribute("data-tab-index"));this.activeTab(a),e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}handleSlotChange(){const t=[...this.panels].findIndex(e=>e.classList.contains("active"));if(this.buildTabs(),this.panels[t])this.activeTab(t);else{const e=Math.max(0,t-1);this.activeTab(e)}}disconnectedCallback(){var t,e;super.disconnectedCallback(),this.navContainer.removeEventListener("click",this._handleClick),(e=(t=this.shadowRoot)==null?void 0:t.querySelector("slot"))==null||e.removeEventListener("slotchange",this._handleSlotChange)}render(){return r`<slot></slot>`}}n(l,"styles",[d`
            :host{
                display: flex;
                flex-direction: column;
            };
        `]);customElements.define("tab-control",l);
