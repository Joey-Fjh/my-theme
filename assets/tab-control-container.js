import{i as s,x as n}from"./lit-element.js";class l extends s{constructor(){super()}connectedCallback(){var e,t;super.connectedCallback(),this.navContainer=this.querySelector("[data-tab-nav]"),this.panels=this.querySelectorAll(".tab-panel"),this.buildTabs(),this._handleClick=this.handleClick.bind(this),this._handleSlotChange=this.handleSlotChange.bind(this),this.navContainer.addEventListener("click",this._handleClick),(t=(e=this.shadowRoot)==null?void 0:e.querySelector("slot"))==null||t.addEventListener("slotchange",this._handleSlotChange),this.panels.length>0&&this.activeTab(0)}buildTabs(){this.navContainer.innerHTML="",this.panels.forEach((e,t)=>{const i=e.getAttribute("data-title"),a=document.createElement("div");a.className="tab-title",a.innerText=i,a.setAttribute("data-tab-index",t),e.setAttribute("data-tab-index",t),this.navContainer.appendChild(a)})}activeTab(e){this.panels.forEach(a=>{a.classList.contains("hidden")||a.classList.add("hidden"),a.classList.remove("active")});for(const a of this.navContainer.children)a.classList.remove("active");const t=this.navContainer.children[e],i=this.panels[e];t&i&&(t.classList.add("active"),i.classList.remove("hidden"),i.classList.add("active"))}handleClick(e){const t=e.target.closest("[data-tab-index]");if(!t)return;const i=Number(t.getAttribute("data-tab-index"));this.activeTab(i)}handleSlotChange(){const e=[...this.panels].findIndex(t=>t.classList.contains("active"));if(this.buildTabs(),this.panels[e])this.activeTab(e);else{const t=Math.max(0,e-1);this.activeTab(t)}}disconnectedCallback(){var e,t;super.disconnectedCallback(),this.navContainer.removeEventListener("click",this._handleClick),(t=(e=this.shadowRoot)==null?void 0:e.querySelector("slot"))==null||t.removeEventListener("slotchange",this._handleSlotChange)}render(){return n`<slot></slot>`}}customElements.define("tab-control",l);
